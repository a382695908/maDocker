window.dockerApp={Models:{},Collections:{},Views:{},Routers:{},init:function(){"use strict";console.log("Hello from Backbone!"),new window.dockerApp.Routers.MainRouter,Backbone.history.start(),$("#mainnav li").on("click",function(){$(this).parent().find(".active").removeClass("active"),$(this).addClass("active"),console.log("asd")})}},$(document).ready(function(){"use strict";dockerApp.init()}),this.JST=this.JST||{},this.JST["app/scripts/templates/dockerps.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<table class="table table-bordered">\n    <th>ID</th>\n    <th>Name</th>\n    <th>Ports</th>\n    <th>Controls</th>\n    <tbody class="ps-container">\n    </tbody>\n</table>\n';return __p},this.JST["app/scripts/templates/dockerpsItem.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)__p+="<td>"+(null==(__t=id)?"":__t)+"</td>\n<td>"+(null==(__t=name)?"":__t)+"</td>\n<td>",_.each(ports,function(a){__p+="\n    "+(null==(__t=a)?"":__t)+"\n"}),__p+='\n</td>\n<td class="controls"><span class="remove glyphicon glyphicon-remove"></span></td>\n';return __p},this.JST["app/scripts/templates/homeView.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="row">\n    <div class="col-lg-12">\n        <h1>Dashboard <small>Statistics Overview</small></h1>\n        <ol class="breadcrumb">\n            <li class="active"><i class="fa fa-dashboard"></i> Dashboard</li>\n        </ol>\n        <div class="alert alert-success alert-dismissable">\n            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>\n            Welcome to maDocker, your manager for <a href="http://docker.io">docker</a>\n        </div>\n    </div>\n</div><!-- /.row -->\n';return __p},this.JST["app/scripts/templates/image.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<table class="table table-bordered">\n    <th>Repository</th>\n    <th>TAG</th>\n    <th>ID</th>\n    <th>Controls</th>\n    <tbody class="ps-container">\n    </tbody>\n</table>\n';return __p},this.JST["app/scripts/templates/imageItem.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)__p+="<td>"+(null==(__t=repository)?"":__t)+"</td>\n<td>"+(null==(__t=tag)?"":__t)+"</td>\n<td>"+(null==(__t=id)?"":__t)+"</td>\n",repository&&""!==repository&&"none"!==repository&&"<none>"!==repository&&(__p+='\n    <td class="controls start">Start</td>\n'),__p+="\n\n\n";return __p},dockerApp.Models=dockerApp.Models||{},function(){"use strict";dockerApp.Models.ContainerModel=Backbone.Model.extend({})}(),dockerApp.Collections=dockerApp.Collections||{},function(){"use strict";dockerApp.Collections.ContainerCollection=Backbone.Collection.extend({model:dockerApp.Models.ContainerModel,url:"http://localhost:3000/dockerps"})}(),dockerApp.Models=dockerApp.Models||{},function(){"use strict";dockerApp.Models.ImagesModel=Backbone.Model.extend({validate:function(a){return console.log(a),a.repository&&"<none>"!==a.repository&&""!==a.repository?a.tag&&"<none>"!==a.tag?void 0:"Tag is null":"Repository is null"}})}(),dockerApp.Collections=dockerApp.Collections||{},function(){"use strict";dockerApp.Collections.ImagesCollection=Backbone.Collection.extend({model:dockerApp.Models.ImagesModel,url:"http://localhost:3000/dockerimages/list/",initialize:function(){this.on("invalid",function(a,b){console.log(b)})}})}(),dockerApp.Routers=dockerApp.Routers||{},function(){"use strict";dockerApp.Routers.MainRouter=Backbone.Router.extend({routes:{dockerps:"dockerps",dockerimages:"dockerImages","":"dockerHome"},dockerHome:function(){console.log("dockerhome");var a=new dockerApp.Views.HomeView;$(".app-container").html(a.render().el)},dockerps:function(){console.log(dockerApp);var a=new dockerApp.Collections.ContainerCollection,b=new dockerApp.Views.DockerpsView({collection:a});$(".app-container").html(b.render().el)},dockerImages:function(){var a=new dockerApp.Collections.ImagesCollection,b=new dockerApp.Views.ImageView({collection:a});$(".app-container").html(b.render().el)}})}(),dockerApp.Views=dockerApp.Views||{},function(){"use strict";dockerApp.Views.DockerpsItemView=Backbone.Marionette.ItemView.extend({tagName:"tr",template:JST["app/scripts/templates/dockerpsItem.ejs"],events:{"click .remove":"stopContainer"},stopContainer:function(){this.model.destroy({wait:!0}),this.$el.addClass("danger"),this.$(".controls").text("Stopping...")}})}(),dockerApp.Views=dockerApp.Views||{},function(){"use strict";dockerApp.Views.DockerpsView=Backbone.Marionette.CompositeView.extend({template:JST["app/scripts/templates/dockerps.ejs"],itemViewContainer:".ps-container",itemView:dockerApp.Views.DockerpsItemView,onBeforeRender:function(){this.collection.fetch()}})}(),dockerApp.Views=dockerApp.Views||{},function(){"use strict";dockerApp.Views.ImageItemView=Marionette.ItemView.extend({tagName:"tr",template:JST["app/scripts/templates/imageItem.ejs"],events:{"click .start":"startImage"},onRender:function(){console.log("render item")},startImage:function(){var a=this;this.$el.addClass("success"),this.$(".controls").text("Starting..."),$.ajax({type:"POST",url:"http://localhost:3000/dockerimages",dataType:"json",data:{id:this.model.get("repository")},success:function(b){b&&(a.$el.removeClass("success"),this.$(".controls").text("Start"))}})}})}(),dockerApp.Views=dockerApp.Views||{},function(){"use strict";dockerApp.Views.ImageView=Marionette.CompositeView.extend({template:JST["app/scripts/templates/image.ejs"],itemViewContainer:".ps-container",itemView:dockerApp.Views.ImageItemView,onBeforeRender:function(){this.collection.fetch({validate:!0}),console.log(this.collection)}})}(),dockerApp.Views=dockerApp.Views||{},function(){"use strict";dockerApp.Views.HomeView=Backbone.Marionette.ItemView.extend({template:JST["app/scripts/templates/homeView.ejs"]})}();